"use strict";window.wsawie=function(){return/Trident|EDGE/ig.test(window.navigator.userAgent)&&!window.ActiveXObject};window.wsawas=function(r,j){function i(a){return function(){!a.readyState||"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onload=null,a.onreadystatechange=null,j())}}function o(a){return function(){a.onload=null;a.onreadystatechange=null;j()}}for(var q=document.getElementsByTagName("SCRIPT"),p=0;p<q.length;++p){if(void 0!==q[p].attributes.src&&null!==q[p].attributes.src){var n=q[p].attributes.src.value.split("/");if(-1!==n[n.length-1].indexOf("warsaw-agent.js")){n=n.slice(0,-1);n.push(r);var n=n.join("/"),m=document.createElement("script");m.onload=o(m);m.onreadystatechange=i(m);m.setAttribute("type","text/javascript");m.setAttribute("src",n);q[p].parentNode.insertBefore(m,q[p]);return m}}}};window.wsawb64=function(){function a(){}a.prototype.p=function(b){return 26>b?b+65:52>b?b+71:62>b?b-4:62===b?43:63===b?47:65};a.prototype.u=function(h){var g=new Uint8Array(h);wsawgb()==k&&(g=h);h=2;for(var i="",m=g.byteLength,j=0,n=0;n<m;n++){if(h=n%3,0<n&&0===4*n/3%76&&(i+="\r\n"),j|=g[n]<<(16>>>h&24),2===h||1===g.byteLength-n){i+=String.fromCharCode(this.p(j>>>18&63),this.p(j>>>12&63),this.p(j>>>6&63),this.p(j&63)),j=0}}return i.substr(0,i.length-2+h)+(2===h?"":1===h?"=":"==")};return a}();var k=1;window.wsawgb=function(){var h=!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),e="undefined"!==typeof InstallTrigger,d=!!window.N||-1!=navigator.userAgent.indexOf(" Safari/")||-1!=Object.prototype.toString.call(window.M).indexOf("Constructor"),g=!!document.documentMode||-1<navigator.userAgent.toLowerCase().indexOf("msie");return window.chrome&&!h?2:e?3:g?k:h?4:d?5:0};window.wsawax=function(){function a(){var d=this;this.onmessage=this.onerror=null;this.B=!0;try{this.s=new ActiveXObject("Warsaw.Object.1"),this.s.addEvent("onerror",function(e){if(null!==d.onerror){d.onerror(e)}}),this.s.addEvent("onmessage",function(e){if(null!==d.onmessage){d.onmessage(e)}})}catch(c){this.B=!1}}a.prototype.send=function(b){!0===this.B&&this.s.send(b)};return a}();var l=1;window.wsawobj=function(){function a(d){var c=this;this.url=d;this.q=this.f=!1;this.a=[];this.i=Math.floor(3001*Math.random());this.error=!1;this.H=wsawgb();this.m=this.h=!1;this.J=["Install"];this.method=l;this.H==k&&this.C();this.h||(wsawie()?setTimeout(function(){c.k()},1500):this.k())}a.prototype.j=function(b){this.q=this.f=!0;this.L();if(this.onconnect){this.onconnect(b)}};a.prototype.w=function(d){if(this.q){this.f=!1;var c=this;setTimeout(function(){3===c.method?c.C():c.method===l?c.k():2===c.method&&c.l()},5000)}else{void 0!==d.target&&null!==d.target||this.g(d)}};a.prototype.v=function(){if(void 0!==this.e&&null!==this.e){this.e.onmessage=null;this.e=this.e.onerror=null;for(var b=0;b<this.a.length;++b){this.a[b].A=!0}}};a.prototype.C=function(){this.v();this.e=new wsawax;var b=this;this.e.onerror=function(c){b.g(c)};this.e.onmessage=function(c){b.o(c)};if(this.f=this.e.B){this.method=3,this.m=this.h=!0,this.j({target:null})}};a.prototype.k=function(){this.v();if(void 0===window.WebSocket){this.l()}else{var d=this;try{if(void 0===this.b||3==this.b.readyState){this.b=new WebSocket(d.url)}}catch(c){this.l();return}this.b.binaryType="arraybuffer";this.b.onopen=function(e){d.j(e)};this.b.onclose=function(e){d.w(e)};this.b.onmessage=function(e){d.o(e)};this.b.onerror=function(e){d.g(e)}}};a.prototype.l=function(){var e=this;if(void 0!==window.WEB_SOCKET_SWF_LOCATION){this.m=!0,this.b=new FlashWebSocket(e.url),this.b.onopen=function(c){e.j(c)},this.b.onclose=function(c){e.w(c)},this.b.onmessage=function(c){e.o(c)},this.b.onerror=function(c){e.g(c)}}else{this.v();window.WEB_SOCKET_SWF_LOCATION="warsaw-websocket.swf";for(var d=document.getElementsByTagName("SCRIPT"),g=0;g<d.length;++g){if(void 0!==d[g].attributes.src&&null!==d[g].attributes.src){var h=d[g].attributes.src.value.split("/");-1!==h[h.length-1].indexOf("warsaw-agent.js")&&(h=h.slice(0,-1),h.push("warsaw-websocket.swf"),h=h.join("/"),window.WEB_SOCKET_SWF_LOCATION=h)}}window.WEB_SOCKET_FORCE_FLASH=!0;this.method=2;wsawas("warsaw-swfobject.js",function(){wsawas("warsaw-web_socket.js",function(){11>swfobject.getFlashPlayerVersion().major?e.g({target:null}):(e.m=!0,e.b=new FlashWebSocket(e.url),e.b.onopen=function(c){e.j(c)},e.b.onclose=function(c){e.w(c)},e.b.onmessage=function(c){e.o(c)},e.b.onerror=function(c){e.g(c)})})})}};a.prototype.g=function(d){3===this.method&&"string"===typeof d&&-1!==d.indexOf("connect")&&(this.f=this.q=!1);if(this.q){var c=this;setTimeout(function(){3===c.method?c.C():c.method===l?c.k():2===c.method&&c.l()},5000)}else{if(this.h){this.h=this.f=!1,this.k()}else{if(void 0!==d.target&&null!==d.target){this.l()}else{this.error=!0;for(d=0;d<this.a.length;++d){this.a[d].onerror("Close")}this.a=[]}}}};a.prototype.o=function(f){var e=null;try{var h="",h=this.h?JSON.parse(f):JSON.parse(f.data);for(f=0;f<this.a.length;f++){if(h.ri==this.a[f].F){e=this.a[f];this.D(f);break}}if("object"==typeof h.r){e.onsuccess(JSON.stringify(h.r))}else{e.onsuccess(h.r)}}catch(g){if(e&&e.onerror){e.onerror("Syntax error")}}};a.prototype.D=function(e){for(var d=[],f=0;f<this.a.length;f++){f!=e&&d.push(this.a[f])}this.a=d};a.prototype.I=function(g,f){var j=g,i=0;if(f&1){for(f+=1,j=new Uint8Array(f),i=j[f-1]=0;i<f-1;i++){j[i]=g[i]&255}}for(var h=0,i=0;i<f;i+=2){h+=j[i]<<8|j[i+1]}for(;h>>16;){h=(h&65535)+(h>>16)}return ~h&65535};a.prototype.L=function(){for(var d=0;d<this.a.length;d++){if(this.a[d].A&&(this.a[d].A=!1,this.f&&!this.error)){if(this.m){void 0===this.e||null===this.e?this.b.send("WS!"+(new wsawb64).u(this.a[d].data)):this.e.send("WS!"+(new wsawb64).u(this.a[d].data))}else{try{this.b.send(this.a[d].data)}catch(c){if("NS_ERROR_CANNOT_CONVERT_DATA"===c.name){this.b.send("WS!"+(new wsawb64).u(this.a[d].data)),this.m=!0}else{throw c}}}}}};a.prototype.K=function(d){for(var c=0;c<this.a.length;c++){if(this.a[c].F==d){this.a[c].onerror("Close");this.D(c);break}}};a.prototype.G=function(g){for(var f=0;f<g.length;++f){var j=g.charCodeAt(f);if(256<j){if(j="&#"+j.toString()+";",wsawgb()==k){var i=escape(g.substr(f,1));g=escape(g);g=g.replace(i,j);g=unescape(g)}else{g=g.replace(g[f],j)}}}j=g.length+5;f=new Uint8Array(j);f[0]=65;f[1]=1;f[2]=0;f[3]=0;for(var i=f[4]=0,h=g.length;i<h;++i){f[i+5]=g.charCodeAt(i)}g=this.I(f,j);f[2]=(65280&g)>>8;f[3]=g&255;return f};a.prototype.execute=function(i){if(-1<window.location.hash.indexOf("###")||!i||!i.d){return !1}i.d=JSON.parse(i.d);i.onerror||(i.onerror=function(){});i.onsuccess||(i.onsuccess=function(){});var f=window.warsawTimeoutTrataErroInstalacao==undefined?60000:window.warsawTimeoutTrataErroInstalacao;i.t&&(f=i.t);try{this.i+=1;this.onconnect=i.onconnect;i.d.ri=this.i.toString();i.d.c=i.params;var p=this.G(JSON.stringify(i.d,function(d,c){return"number"!==typeof c||isFinite(c)?c:String(c)}));this.a.push({A:!0,data:p,F:this.i.toString(),onsuccess:i.onsuccess,onerror:i.onerror});this.error?this.g({target:null}):this.f&&this.j({target:null});if(0<f){var o=JSON.parse(i.d.d).n,n=this.i.toString(),m=this;0>this.J.indexOf(o)&&setTimeout(function(){m.K(n)},f)}}catch(j){return !1}return !0};return a}();wsawgb()==k&&(wsawas("warsaw-json.js",function(){}),wsawas("warsaw-typedarray.js",function(){}));window.wsaw=new wsawobj("wss://127.0.0.1:30900");window.warsawExec=function(a){if(window.wsaw.error){if(a.onerror){a.onerror("Close")}return !1}return window.wsaw.execute(a)};